<!doctype html>
<html lang="en">


<!-- Mirrored from themesdesign.in/jobcy/layout/manage-jobs.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 01 Aug 2023 10:08:03 GMT -->

<head>


    <meta charset="utf-8" />
    <title>Consultants | The Jobs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=" " />
    <meta name="keywords" content="" />
    <meta content="Themesdesign" name="author" />

    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <!-- Choise Css -->
    <link rel="stylesheet" href="assets/libs/choices.js/public/assets/styles/choices.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" />

    <!-- Bootstrap Css -->
    <link href="assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" />
    <!-- Icons Css -->
    <link href="assets/css/icons.min.css" rel="stylesheet" />
    <!-- App Css-->
    <link href="assets/css/app.min.css" id="app-style" rel="stylesheet" />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!--Custom Css-->

</head>

<body>
    <!--start page Loader -->
    <div id="preloader">
        <div id="status">
            <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
    </div>
    <!--end page Loader -->

    <!-- Begin page -->
    <div class="top-bar bg-white">
        <div class="container-fluid custom-container ">
            <div class="row g-0 align-items-center">
                <div class="col-md-7">
                    <ul class="list-inline mb-0 text-center text-md-start">

                    </ul>
                </div>
                <!--end col-->
                <div class="col-md-5">
                    <ul class="list-inline mb-0 text-center text-md-end">
                        <li class="list-inline-item py-2 me-2 align-middle">
                        </li>
                        <li class="list-inline-item align-middle  ">
                            <div class="dropdown d-inline-block language-switch ">
                                <button type="button" class="btn" data-bs-toggle="dropdown" aria-haspopup="true"
                                    aria-expanded="false">
                                    <img id="header-lang-img" height="16" />
                                </button>

                            </div>
                        </li>
                    </ul>
                </div>
                <!--end col-->
            </div>
            <!--end row-->
        </div>
        <!--end container-->
    </div>
    <!-- END TOP-BAR -->

    <!--Navbar Start-->
    <nav class="navbar navbar-expand-lg fixed-top sticky" id="navbar">
        <div class="container-fluid custom-container">
            <a class="navbar-brand text-dark fw-bold me-auto" href="index.html">
                <img src="assets/images/logo-dark.png" height="22" alt="" class="logo-dark" />
                <img src="assets/images/logo-light.png" height="22" alt="" class="logo-light" />
            </a>
            <div>
                <button class="navbar-toggler me-3" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-label="Toggle navigation">
                    <i class="mdi mdi-menu"></i>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mx-auto navbar-center">
                    <!--<li class="nav-item dropdown dropdown-hover">
                                <a class="nav-link" href="javascript:void(0)" id="homedrop" role="button" data-bs-toggle="dropdown">
                                    Home
                                </a>
                            </li>-->
                    <li class="nav-item dropdown dropdown-hover">
                        <a class="nav-link" href="index.html" id="homedrop" role="button">
                            Home
                        </a>
                    </li>

                    <li class="nav-item dropdown dropdown-hover">
                        <a class="nav-link" href="available-consultants.html" id="pagesdoropdown" role="button">
                            My Appointments
                        </a>

                    </li><!--end dropdown-->
                    <li class="nav-item dropdown dropdown-hover">
                        <a class="nav-link" href="about.html" id="productdropdown" role="button">
                            About Us
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">Contact</a>
                    </li>
                </ul><!--end navbar-nav-->
            </div>
            <!--end navabar-collapse-->
        </div>
        <!--end container-->
    </nav>
    <!-- Navbar End -->

    <div class="main-content">

        <div class="page-content">

            <!-- Start home -->
            <section class="page-title-box">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-md-6">
                            <div class="text-center text-white">
                                <h3 class="mb-4">Select a consultant</h3>
                                <div class="page-next">
                                    <nav class="d-inline-block" aria-label="breadcrumb text-center">
                                        <ol class="breadcrumb justify-content-center">
                                            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                            <li class="breadcrumb-item"><a href="javascript:void(0)">Profile</a></li>
                                            <li class="breadcrumb-item active" aria-current="page"> Select a consultant
                                            </li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                </div>
                <!--end container-->
            </section>
            <!-- end home -->

            <!-- START SHAPE -->
            <div class="position-relative" style="z-index: 1">
                <div class="shape">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 250">
                        <path fill="" fill-opacity="1"
                            d="M0,192L120,202.7C240,213,480,235,720,234.7C960,235,1200,213,1320,202.7L1440,192L1440,320L1320,320C1200,320,960,320,720,320C480,320,240,320,120,320L0,320Z">
                        </path>
                    </svg>
                </div>
            </div>
            <!-- END SHAPE -->


            <!-- START MANAGE-JOBS -->
            <section class="section">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-8">
                            <div class="mb-4 mb-lg-0">
                                <h3 class="mb-0"> Choose your consultant </h3>
                                <div class="row mt-5">
                                    <br><br>
                                    <h6 class="mb-0"> Filter Consultant </h6>
                                    <div class="col-lg-6">
                                        <input type="number" name="" id="startTimeFilter" class="form-control"
                                            placeholder="Start Time">
                                    </div>
                                    <div class="col-lg-6">
                                        <input type="number" name="" id="endTimeFilter" class="form-control"
                                            placeholder="End Time">
                                    </div>
                                </div>
                            </div>
                        </div><!--end col-->
                    </div><!--end row-->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="job-box card mt-4">
                                <div class="card-body p-4" id="productList">
                                </div><!--end row-->
                            </div>
                        </div><!--end job-box-->
                    </div><!--end col-->
                </div><!--end row-->
        </div><!--end container-->
        </section>
        <!-- END MANAGE-JOBS -->
    </div>
    <!-- End Page-content -->

        <script>
            const productList = document.getElementById("productList");
            const startTimeFilter = document.getElementById("startTimeFilter");
            const endTimeFilter = document.getElementById("endTimeFilter");

            // Function to fetch and display products
            const fetchProducts = () => {
                // Fetch product data from the API
                fetch("http://localhost:8080/api/v1/consult/getconsult")
                    .then((response) => response.json())
                    .then((products) => {
                        // Clear the existing product list
                        productList.innerHTML = "";

                        // Loop through products and generate HTML content
                        products.forEach((product) => {
                            const productItem = document.createElement("div");
                            productItem.className = "row";
                            productItem.innerHTML = `
                            <div class="col-lg-1 mt-2">
                                            <img src="images.png" alt=""
                                                class="img-fluid rounded-3">
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="mt-3 mt-lg-0">
                                                <h5 class="fs-17 mb-1">${product.name}</h5>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0"><span style="font-weight: 600;">Available Time: ${product.start_time} -  ${product.end_time}</span></p>
                                                    </li>
                                                </ul>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0" style="font-weight: 600;">E-mail : ${product.email}</p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 align-self-center">
                                            <a href="${getUserLink(product)}" class="btn btn-primary btn-sm">Select</a>
                                        </div>
                                    </div>
                                    <div class="mt-3"></div>
                                    <hr>
                                    `;

                            productList.appendChild(productItem);
                        });
                    })
                    .catch((error) => {
                        console.error("Error fetching product data:", error);
                    });
            };

            fetchProducts();
            // Function to fetch and display filtered products
            const fetchFilteredProducts = (startTime) => {
                // Fetch filtered product data from the API
                fetch(`http://localhost:8080/api/v1/consult/filter-by-start-time`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        start_time: startTime,

                    }),
                })
                    .then((response) => response.json())
                    .then((filteredProducts) => {
                        // Clear the existing product list
                        productList.innerHTML = "";
                        if (filteredProducts.length === 0) {
                            // Create an error message element
                            const errorMessage = document.createElement("div");
                            errorMessage.className = "col-lg-9 text-danger fw-bold";
                            errorMessage.textContent = "Consultant Not Found.";

                            productList.appendChild(errorMessage);
                        } else {
                            // Loop through filtered products and generate HTML content
                            filteredProducts.forEach((product) => {
                                const productItem = document.createElement("div");
                                productItem.className = "row";
                                productItem.innerHTML = `
                                <div class="col-lg-1">
                                            <img src="images.png" alt=""
                                                class="img-fluid rounded-3">
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="mt-3 mt-lg-0">
                                                <h5 class="fs-17 mb-1">${product.name}</h5>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0"><span style="font-weight: 600;">Available Time: ${product.start_time} -  ${product.end_time}</span></p>
                                                    </li>
                                                </ul>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0" style="font-weight: 600;">E-mail : ${product.email}</p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 align-self-center">
                                            <a href="${getUserLink(product)}" class="btn btn-primary btn-sm">Select</a>
                                        </div>
                                    </div>
                                    <div class="mt-3"></div>
                                    <hr>`;

                                productList.appendChild(productItem);
                            });
                        }
                    })
                    .catch((error) => {
                        console.error("Error fetching filtered product data:", error);
                    });
            };


            // Function to fetch and display filtered products
            const fetchFilteredProductsend = (endTime) => {
                // Fetch filtered product data from the API
                fetch(`http://localhost:8080/api/v1/consult/filter-by-end-time`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        end_time: endTime,

                    }),
                })
                    .then((response) => response.json())
                    .then((filteredProducts) => {
                        // Clear the existing product list
                        productList.innerHTML = "";
                        if (filteredProducts.length === 0) {
                            // Create an error message element
                            const errorMessage = document.createElement("div");
                            errorMessage.className = "col-lg-9 text-danger fw-bold";
                            errorMessage.textContent = "Consultant Not Found.";

                            productList.appendChild(errorMessage);
                        } else {
                            // Loop through filtered products and generate HTML content
                            filteredProducts.forEach((product) => {
                                const productItem = document.createElement("div");
                                productItem.className = "row";
                                productItem.innerHTML = `
                                <div class="col-lg-1">
                                            <img src="images.png" alt=""
                                                class="img-fluid rounded-3">
                                        </div>
                                        <div class="col-lg-9">
                                            <div class="mt-3 mt-lg-0">
                                                <h5 class="fs-17 mb-1">${product.name}</h5>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0"><span style="font-weight: 600;">Available Time: ${product.start_time} -  ${product.end_time}</span></p>
                                                    </li>
                                                </ul>
                                                <ul class="list-inline mb-0">
                                                    <li class="list-inline-item">
                                                        <p class="text-muted fs-14 mb-0" style="font-weight: 600;">E-mail : ${product.email}</p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 align-self-center">
                                            <a href="${getUserLink(product)}" class="btn btn-primary btn-sm">Select</a>
                                        </div>
                                    </div>
                                    <div class="mt-3"></div>
                                    <hr>`;
                                productList.appendChild(productItem);
                            });
                        }
                    })
                    .catch((error) => {
                        console.error("Error fetching filtered product data:", error);
                    });
            };

            // Event listener for input changes in the filter fields
            startTimeFilter.addEventListener("input", () => {
                const startTime = startTimeFilter.value;
                const endTime = endTimeFilter.value;
                if (startTime === "") {
                    fetchProducts();
                } else {
                    fetchFilteredProducts(startTime);
                }
            });

            endTimeFilter.addEventListener("input", () => {
                const startTime = startTimeFilter.value;
                const endTime = endTimeFilter.value;
                if (endTime === "") {
                    fetchProducts();
                } else {
                    fetchFilteredProductsend(endTime);
                }
            });

            // Initial fetch to load all products by default
            fetchProducts();


            // Function to determine the appropriate link based on user login status
            const getUserLink = (product) => {
                // Replace this with your actual logic to check user session or authentication
                var username = sessionStorage.getItem('userName');
                if (!username) {
                    window.location.href = 'sign-in.html'; // Redirect to login page
                } else {
                    return `make-appointments.html?name=${encodeURIComponent(product.name)}`;
                }
            };
        </script>

    <!-- START SUBSCRIBE -->
    <section class="bg-subscribe">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-lg-6">
                    <div class="text-center text-lg-start">
                        <h4 class="text-white">Get New Jobs Notification!</h4>
                        <p class="text-white-50 mb-0">Subscribe & get all related jobs notification.</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="mt-4 mt-lg-0">
                        <form class="subscribe-form" action="#">
                            <div class="input-group justify-content-center justify-content-lg-end">
                                <input type="text" class="form-control" id="subscribe" placeholder="Enter your email">
                                <button class="btn btn-primary" type="button" id="subscribebtn">Subscribe</button>
                            </div>
                        </form><!--end form-->
                    </div>
                </div>
                <!--end col-->
            </div>
            <!--end row-->
        </div>
        <!--end container-->
        <div class="email-img d-none d-lg-block">
            <img src="assets/images/subscribe.png" alt="" class="img-fluid">
        </div>
    </section>
    <!-- END SUBSCRIBE -->

    <!-- START FOOTER-ALT -->
    <div class="footer-alt">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="text-white-50 text-center mb-0">
                        <script>document.write(new Date().getFullYear())</script> &copy; The Jobs - Consultation
                        Service
                        created by <a href="" target="_blank" class="text-reset text-decoration-underline">Thilina</a>
                    </p>
                </div><!--end col-->
            </div><!--end row-->
        </div><!--end container-->
    </div>
    <!-- END FOOTER -->

    <!-- Style switcher -->
    <div id="style-switcher" onclick="toggleSwitcher()" style="left: -165px;">
        <div>
            <h6>Select your color</h6>
            <ul class="pattern list-unstyled mb-0">
                <li>
                    <a class="color-list color1" href="javascript: void(0);" onclick="setColorGreen()"></a>
                </li>
                <li>
                    <a class="color-list color2" href="javascript: void(0);" onclick="setColor('blue')"></a>
                </li>
                <li>
                    <a class="color-list color3" href="javascript: void(0);" onclick="setColor('green')"></a>
                </li>
            </ul>
            <div class="mt-3">
                <h6>Light/dark Layout</h6>
                <div class="text-center mt-3">
                    <!-- light-dark mode -->
                    <a href="javascript: void(0);" id="mode" class="mode-btn text-white rounded-3">
                        <i class="uil uil-brightness mode-dark mx-auto"></i>
                        <i class="uil uil-moon mode-light"></i>
                    </a>
                    <!-- END light-dark Mode -->
                </div>
            </div>
        </div>
        <!-- end switcher-->

        <!--start back-to-top-->
        <button onclick="topFunction()" id="back-to-top">
            â†‘
        </button>
        <!--end back-to-top-->
    </div>
    <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->

    <!-- JAVASCRIPT -->
    <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../../unicons.iconscout.com/release/v4.0.0/script/monochrome/bundle.js"></script>


    <!-- Choice Js -->
    <script src="assets/libs/choices.js/public/assets/scripts/choices.min.js"></script>

    <!-- Candidate Init Js -->
    <script src="assets/js/pages/candidate.init.js"></script>

    <!-- Switcher Js -->
    <script src="assets/js/pages/switcher.init.js"></script>

    <script src="assets/js/app.js"></script>

</body>

</html>